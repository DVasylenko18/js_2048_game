parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";var n=document.documentElement,e=n.querySelectorAll(".field-cell"),r=n.querySelectorAll(".button"),t=n.querySelectorAll(".message"),i=n.getElementsByClassName("game-score")[0],o=[],c=Array(16).fill(0),f=0,a=!1,l=!1,u=!1;function s(n){switch(n){case"ArrowUp":m();break;case"ArrowDown":v();break;case"ArrowRight":h();break;case"ArrowLeft":d()}return l?(t[0].classList.remove("hidden"),void document.removeEventListener("keydown")):a?(t[1].classList.remove("hidden"),void document.removeEventListener("keydown")):void(u&&(k(),M(),i.innerHTML=f,u=!1))}function d(){for(var n=0;n<c.length;n+=4){for(var e=c.slice(n,n+4).filter(function(n){return 0!==n}),r=0;r<e.length-1;r++)e[r]===e[r+1]&&(e[r]=2*e[r],e.splice(r+1,1),f+=e[r],2048===e[r+=1]&&(a=!0));e.concat(Array(4-e.length).fill(0)).forEach(function(n){o.push(n)})}w(c,o)?w(c,o)&&o.filter(function(n){return n>0}).length===o.length&&(l=!0):(c.forEach(function(n,e){c[e]=o[e]}),u=!0),o.length=0}function h(){L(),L(),d(),L(),L()}function v(){L(),d(),L(),L(),L()}function m(){L(),L(),L(),d(),L()}function L(){for(var n=Array(16).fill(0),e=0,r=3;r>-1;r--){for(var t=0;t<4;t++)n[t+4*e]=c[15-r-4*t];e+=1}c.forEach(function(e,r){c[r]=n[r]})}function g(n,e){for(var r=[],t=0;t<e;t++)r.push(n.splice(Math.random()*n.length,1));return r}function E(){return Math.random()<.9?2:4}function y(){c.forEach(function(n,e){c[e]=0}),f=0,i.innerHTML=f,t.forEach(function(n){n.classList.add("hidden")})}function A(){var n=g(c.map(function(n,e){if(0===n)return e}).filter(function(n){return void 0!==n}),2);c[n[0]]=E(),c[n[1]]=E()}function w(n,e){for(var r=0;r<n.length;++r)if(n[r]!==e[r])return!1;return!0}function k(){var n=[];if((n=(n=c.map(function(n,e){if(0===n)return e})).filter(function(n){return void 0!==n})).length<1)l=!0;else{var e=g(n,1);c[e[0]]=E()}}function M(){c.forEach(function(n,r){0===n?(e[r].className="field-cell",e[r].innerHTML=""):(e[r].className="field-cell field-cell--"+n,e[r].innerHTML=n)})}r[0].addEventListener("click",function(){"Start"===r[0].innerHTML?(r[0].innerHTML="Restart",r[0].className="button restart",t.forEach(function(n){n.classList.add("hidden")})):(l=!1,y()),A(),M(),document.addEventListener("keydown",function(n){s(n.key)})});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.069e94ce.js.map